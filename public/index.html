<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="ng-admin.min.css">

</head>
<body ng-app="myApp">
  <div ui-view></div>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  <script type="text/javascript" src="dpd.js"></script>
  <script type="text/javascript" src="ng-admin.min.js"></script>
  <script type="text/javascript">
  var myApp = angular.module('myApp', ['ng-admin']);
  myApp.config(['NgAdminConfigurationProvider', function(NgAdminConfigurationProvider) {
      var nga = NgAdminConfigurationProvider;
      // create an admin application
      var admin = nga.application('My First Admin');

      var message = nga.entity('messages');

      message.listView()
        .fields([
          nga.field('from'),
          nga.field('to'),
          nga.field('message')
        ]);

      message.creationView()
        .fields([
          nga.field('from'),
          nga.field('toIds', 'reference_many')
            .targetEntity(nga.entity('contacts'))
            .targetField(nga.field('fullName')),
          nga.field('message', 'text')
        ]);

      var contact = nga.entity('contacts');

      contact.listView()
        .fields([
          nga.field('name'),
          nga.field('lastName'),
          nga.field('phoneNumber'),
          nga.field('isKeyWorker')
        ]);

      contact.creationView()
        .fields([
          nga.field('name'),
          nga.field('lastName'),
          nga.field('phoneNumber'),
          nga.field('isKeyWorker', 'boolean')
        ]);


      admin
        .addEntity(message)
        .addEntity(contact);

      nga.configure(admin);
  }]);
  </script>
</body>
</html>
